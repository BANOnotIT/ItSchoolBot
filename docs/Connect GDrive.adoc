= Подключение Google Drive к проекту
:toc:

== Создание проекта в Google Developer Console
1. https://console.developers.google.com/ нужно создать проект
2. в виджите API нажать "перейти к обзору API"
3. в окне "API и сервисы" нажать кнопку "включить api и сервисы"
4. найти `google drive api` и включить его

== Настройка окна запроса доступа
1. найти вкладку "окно запроса доступа OAuth"
2. выбрать "внешний User Type"
3. название приложения, например, "ШИР Сборщик документов"
4. добавить области действия:
    - `auth/drive` - чтобы можно было открывать файлы, которые создали другие пользователи и дали нам по ссылке

== Создание OAuth Client Secret
1. найти вкладку "учётные данные"
2. нажать создание учётных данных
3. при создании использовать следующие параметры:
    - используемый api - Google Drive API
    - откуда вызывается - веб-сервер
    - какие данные будете использовать - данные пользователя
4. для клиента выбираем название, например, `nodejs-service-client`
5. скачиваем .json и его содержимое вставляем в переменную окружения `GDRIVE_OAUTH2_SECRET`

== Авторизация пользователя
1. зайти в бота под учёткой админа
2. нажать "Авторизовать GDrive"
3. перейти по ссылке
4. на странице "приложение не проверено" открыть "дополнительные настройки" и там "перейти на страницу..."
5. после всех шагов скопировать код и отправить боту
6. _можно посмотреть работоспособность нажав "состояние" в главном меню_
= Подключение Google Drive к проекту
:toc:

== Создание проекта в Google Developer Console
1. https://console.developers.google.com/ нужно создать проект
2. в виджите API нажать "перейти к обзору API"
3. в окне "API и сервисы" нажать кнопку "включить api и сервисы"
4. найти `google drive api` и включить его

== Создание Service Account
1. найти вкладку "учётные данные"
2. нажать создание учётных данных
3. при создании использовать следующие параметры:
    - используемый api - Google Drive API
    - откуда вызывается - веб-сервер
    - какие данные будете использовать - данные приложения
    - App Engine - нет, не использую
4. для клиента выбираем название, например, `nodejs-service-client`
5. скачиваем .json и подставляем его значение в `gdrive.serviceAccount`
6. __для следующего шага взять из файла значение `client_email`__

== Шаринг папки боту
1. создаём на диске папку для работы бота
2. заходим в неё и шарим её на email адрес, который хранится в `client_email`.
    - на почту придёт уведомление, что этому адресу письмо не отправлено. это нормально
3. из url копируем id папки (`https://drive.google.com/drive/u/0/folders/<HERE_IS_ID>`)
4. в `gdrive.rootDirId` вставляем id папки, которую расшарили